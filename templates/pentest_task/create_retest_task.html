{% extends 'base.html' %}
{% load static %}
{% block title %}Create Retest Task{% endblock %}

{% block content %}

<div class="content-header">
    <div class="container-fluid">
        <div class="row mb-2">
            <div class="col-sm-6">
                <h1 class="m-0">Create Retest Task for {{task.name}}</h1>
            </div>
        </div>
    </div>
</div>

<section class="content">
    <div class="container-fluid">
        <div class="card">
            <div class="card-header bg-primary text-white">
                <h3 class="card-title">Retest Task</h3>
            </div>
            <div class="tab-pane fade show active" id="general" role="tabpanel">
            <!--     <div class="form-group">
            <div class="card-body"> -->
                <form method="post">
                    {% csrf_token %}

                    <!-- Tabs Navigation -->
                    <ul class="nav nav-tabs" id="taskTabs">
                        <li class="nav-item">
                            <a class="nav-link active" data-toggle="tab" href="#task_description">Task Description</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" data-toggle="tab" href="#task_plan">Plan</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" data-toggle="tab" href="#task_additional">Addition Information</a>
                        </li>
                    </ul>

                    <!-- Tabs Content -->
                    <div class="tab-content mt-3">
                        <!-- ✅ Tab 1: Task Description -->
                        <div class="tab-pane fade show active" id="task_description">
                            <div class="form-group">
                                <label>Name</label>
                                <input type="text" class="form-control" value="Verify - {{ task.name }}" readonly>
                            </div>
                            <div class="form-group">
                                <label>Description</label>
                                <textarea class="form-control" readonly>{{ task.description }}</textarea>
                            </div>
                            <div class="form-group">
                                <label>Status</label>
                                <input type="text" class="form-control" value="Retest" readonly>
                               
                            </div>
                            <div class="form-group">
                                <label>Environment Pro</label>
                                <input type="text" class="form-control" value="{{ task.environment_prod }}" readonly>
                            </div>
                            <div class="form-group">
                                <label>Environment Test</label>
                                <input type="text" class="form-control" value="{{ task.environment_test }}" readonly>
                            </div>
                            <div class="form-group">
                                <label>Requester/Owner</label>
                                <input type="text" class="form-control" value="{{ task.owner }}" readonly>
                            </div>
                            <div class="form-group">
                                <label>Ref</label>
                                <input type="text" class="form-control" value="{{ task.ref }}" readonly>
                            </div>
                        </div>

                        <!-- ✅ Tab 2: Plan -->
                        <div class="tab-pane fade" id="task_plan">
                            <div class="form-group">
                                <label>PIC ISM</label>
                                <input type="text" name="PIC_ISM" class="form-control">
                            </div>
                            <div class="form-group">
                                <label>Number of APIs</label>
                                <input type="number" class="form-control" value="{{ task.number_of_apis }}" readonly>
                            </div>
                            <div class="form-group">
                                <label>Effort working days</label>
                                <input type="number" class="form-control" value="{{ task.effort_working_days }}" readonly>
                            </div>
                            <div class="form-group">
                                <label>Start Date</label>
                                <input type="date" class="form-control" value="{{ task.start_date }}" readonly>
                                   
                            </div>

                            <div class="form-group">
                                <label>End Date</label>
                                <input type="date" class="form-control" value="{{ task.end_date }}" readonly>
                            </div>



                            <div class="form-group">
                                <label>Start Retest</label>
                                <input type="date" name="start_retest" class="form-control">
                            </div>
                            <div class="form-group">
                                <label>End Retest</label>
                                <input type="date" name="end_retest" class="form-control">
                            </div>
                        </div>

                        <!-- ✅ Tab 3: Addition Information -->
                         
                        <div class="tab-pane fade" id="task_additional">
                            <div class="form-group">
                                <label>Mail Loop</label>
                                <input type="text" class="form-control" value="{{ task.mail_loop }}" readonly>
                            </div>
                            <div class="form-group">
                                <label>Chat Group</label>
                                <input type="text" class="form-control" value="{{ task.chat_group }}" readonly>
                            
                            </div>
                            <div class="form-group">
                                <label>Ticket Link</label>
                                <input type="text" class="form-control" value="{{ task.link_ticket }}" readonly>
                                
                            </div>
                            <div class="form-group">
                                <label>Sharepoint Link</label>
                                <input type="text" class="form-control" value="{{ task.link_sharepoint }}" readonly>
                                
                            </div>
                            <div class="form-group">
                                <label>Internet/Internal?</label>
                                <input type="text" class="form-control" value="{{ task.is_internet }}" readonly>
                                
                            </div>
                            <div class="form-group">
                                <label>NewApp/OldApp?</label>
                                <input type="text" class="form-control" value="{{ task.is_newapp }}" readonly>
                                
                            </div>
                            
                            <div class="form-group">
                                <label>Component</label>
                                <input type="text" class="form-control" value="{{ task.component }}" readonly>
                                
                            </div>
                            <div class="form-group">
                                <label>Sharecost</label>
                                <input type="text" class="form-control" value="{{ task.sharecost }}" readonly>
                                
                            </div>

                        </div>
                    </div>

                    <!-- Buttons -->
                    <button type="submit" class="btn btn-primary">Create Retest Task</button>

					<a href="{% url 'pentest_task:list_pentest_tasks' %}">Cancel</a>
                    <!-- <a href="{% url 'pentest_task:list_pentest_tasks' %}" class="btn btn-secondary">Back to Pentest Task List</a> -->
                </form>

            </div>
            </div>
        </div>
    </div>
</section>

{% endblock %}

